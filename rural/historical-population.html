<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width">
    <title>Colorado Rural-Urban Population 1900-2010 | The Denver Post</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.14/c3.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.14/c3.js"></script>
    <script src="http://d3js.org/d3.v3.min.js " charset="utf-8 "></script>
    <style>
    .c3-ygrid-line line {
        stroke: gray;
        width: 3px;
    }

    .c3-line {
        stroke-width: 1px;
    }

    h3 {
        text-align: center;
        font-family: Georgia, serif;
        font-size: 32px;
        margin-top: 95px;
    }

    #nav {
        position: fixed;
        width: 100%;
        background-color: whitesmoke;
        top: 0px;
        margin-left: -10px;
        z-index: 10;
        border-bottom: 2px solid rgba(229, 228, 226, 1);
        font-family: Georgia, serif;
    }

    .c3-legend-item {
        margin-top: 10px;
    }
    </style>
</head>

<body>
    <div id="historical-population"></div>
    <script>
    var populationChart = c3.generate({
        bindto: '#historical-population',
        size: {
            height: 400
        },
        data: {
            x: 'x',
            //        xFormat: '%Y%m%d', // 'xFormat' can be used as custom format of 'x'
            columns: [
                ['x', '1900', '1910', '1920', '1930', '1940', '1950', '1960', '1970', '1980', '1990', '2000', '2010'],
                ['Urban', 260651, 402192, 453259, 519882, 590756, 831318, 1292790, 1733311, 2329869, 2715517, 3633185, 4332761],
                ['Rural', 279049, 396832, 486370, 515909, 532540, 493771, 461157, 473948, 560095, 578877, 668076, 696435],
                ['Pct. rural', 51.7, 49.7, 51.8, 49.8, 47.4, 37.30, 26.3, 21.4, 19.4, 17.6, 15.5, 13.8]
            ],
            types: {
                'Urban': 'line',
                'Rural': 'line',
                'Pct. rural': 'bar'
            },
            axes: {
                'Pct. rural': 'y2'
            },
            colors: {
                'Urban': '#d7191c',
                'Rural': '#2c7bb6',
                'Pct. rural': '#ddd'
            },
        },
        tooltip: {
            format: {
                value: function(value) {
                    return d3.format(",")(value)
                }
            }
        },
        grid: {
            x: {
                show: true
            },
            y: {
                show: true
                // lines: [{
                //     value: 6,
                //     text: '6 innings',
                //     axis: 'y'
                // }]
            },
        },
        legend: {
            position: 'inset'
        },
        axis: {
            x: {
                type: 'category' // this needed to load string x value
            },
            y: {
                label: {
                    text: 'Population (line)',
                    position: 'outer-middle'
                },
                tick: {
                    format: d3.format(",")
                }
                // min: 0,
                // // max: 9,
                // padding: {
                //     top: 5,
                //     bottom: 0
                // }
            },
            y2: {
                show: true,
                label: {
                    text: 'Percent rural (bar)',
                    position: 'outer-middle'
                },
                min: 0,
                // max: 9,
                padding: {
                    top: 5,
                    bottom: 0
                }
            }
        },
    });
    // populationChart.data.colors({
    //     'Urban': '#d7191c',
    //     'Rural': '#2c7bb6',
    //     'Pct. rural': '#ddd'
    // })
    </script>
</body>